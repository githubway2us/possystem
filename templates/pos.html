{% extends 'base.html' %}
{% block content %}

<!-- ‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö -->
<div class="text-center my-4">
  <img src="{{ url_for('static', filename='images/banner_pos.png') }}" 
       class="img-fluid rounded shadow" 
       alt="POS Banner" 
       style="max-height: 250px; object-fit: cover;">
  <h2 class="mt-3 text-primary fw-bold">üõç ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô (POS)</h2>
  <p class="text-muted">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚Äî ‡∏Ç‡∏≤‡∏¢‡∏á‡πà‡∏≤‡∏¢ ‚Äî ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
</div>

<hr>

<div class="container">
  <div class="row">
    <!-- ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏ã‡πâ‡∏≤‡∏¢) -->
    <div class="col-md-4">
      <h4 class="text-center mb-3">üßæ ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h4>
      <div class="table-responsive">
        <table class="table table-bordered table-striped align-middle shadow-sm">
          <thead class="table-primary">
            <tr>
              <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
              <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
              <th>‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
              <th>‡∏£‡∏ß‡∏°</th>
              <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
            </tr>
          </thead>
          <tbody id="cart-body"></tbody>
        </table>
      </div>
      <h5 class="text-end mt-3">üí∞ ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="total" class="fw-bold text-success">0.00</span> ‡∏ö‡∏≤‡∏ó</h5>

      <form method="POST" class="text-end">
        <div id="productForm"></div>
        <button type="submit" class="btn btn-success mt-3">‚úÖ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
        <button type="button" class="btn btn-outline-danger mt-3" onclick="clearCart()">üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
      </form>
    </div>

    <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏Ç‡∏ß‡∏≤) -->
    <div class="col-md-8">
      <h4 class="mb-3 text-center text-success">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h4>
      <div class="row">
        {% for p in products %}
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="card shadow-sm border-0 rounded-3 h-100">
            <img src="{{ url_for('static', filename='images/product_default.png') }}" 
                 class="card-img-top" alt="{{ p.name }}"
                 style="height: 160px; object-fit: cover; border-bottom: 1px solid #eee;">
            <div class="card-body text-center">
              <h5 class="card-title text-dark">{{ p.name }}</h5>
              <p class="text-muted mb-1">‡∏£‡∏≤‡∏Ñ‡∏≤: <strong>{{ "%.2f"|format(p.price) }}</strong> ‡∏ö‡∏≤‡∏ó</p>
              <p class="small text-secondary">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: {{ p.stock }}</p>
              <button class="btn btn-primary btn-sm w-100" 
                      onclick="addToCart('{{p.id}}','{{p.name}}',{{p.price}})">
                ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
              </button>
            </div>
          </div>
        </div>
        {% else %}
        <p class="text-center text-muted">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
        {% endfor %}
      </div>
    </div>
  </div>
</div>

<script src="{{ url_for('static', filename='js/pos.js') }}"></script>

{% endblock %}
